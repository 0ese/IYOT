[Bot-Hosting Daemon]: Checking server disk space usage, this could take a few seconds...
[Bot-Hosting Daemon]: Updating process configuration files...
[Bot-Hosting Daemon]: Ensuring file permissions are set correctly, this could take a few seconds...
container@pterodactyl~ Server marked as starting...
[Bot-Hosting Daemon]: Pulling Docker container image, this could take a few minutes to complete...
[Bot-Hosting Daemon]: Finished pulling Docker container image
v22.21.1
:/home/container$ if [[ -d .git ]] && [[ ${AUTO_UPDATE} == "1" ]]; then git pull; fi; if [[ ! -z ${NODE_PACKAGES} ]]; then /usr/local/bin/npm install ${NODE_PACKAGES}; fi; if [[ ! -z ${UNNODE_PACKAGES} ]]; then /usr/local/bin/npm uninstall ${UNNODE_PACKAGES}; fi; if [ -f /home/container/package.json ]; then /usr/local/bin/npm install; fi; if [[ ! -z "${START_BASH_FILE}" ]]; then bash ${START_BASH_FILE}; else /usr/local/bin/node /home/container/${BOT_JS_FILE}; fi;

up to date, audited 68 packages in 4s

17 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
container@pterodactyl~ Server marked as running...
ðŸš€ Starting Moonsec Discord Bot (Bot-Only Mode)...
âœ… MySQL database tables initialized
Registering global slash commands...
Error registering commands: DiscordAPIError[0]: 401: Unauthorized
    at handleErrors (/home/container/node_modules/@discordjs/rest/src/lib/handlers/Shared.ts:148:10)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async SequentialHandler.runRequest (/home/container/node_modules/@discordjs/rest/src/lib/handlers/SequentialHandler.ts:417:20)
    at async SequentialHandler.queueRequest (/home/container/node_modules/@discordjs/rest/src/lib/handlers/SequentialHandler.ts:169:11)
    at async _REST.request (/home/container/node_modules/@discordjs/rest/src/lib/REST.ts:210:20)
    at async registerCommands (/home/container/server/discord-bot.ts:196:5)
    at async startBot (/home/container/server/discord-bot.ts:252:3)
    at async <anonymous> (/home/container/server/bot-only.ts:12:5) {
  requestBody: { files: undefined, json: [ [Object], [Object] ] },
  rawError: { message: '401: Unauthorized', code: 0 },
  code: 0,
  status: 401,
  method: 'PUT',
  url: 'https://discord.com/api/v10/applications/1445009388883677184/commands'
}
âœ… Discord bot started successfully!
/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:140
    const invalidToken = new DiscordjsError(ErrorCodes.TokenInvalid);
                         ^
Error [TokenInvalid]: An invalid token was provided.
    at WebSocketManager.connect (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:140:26)
    at Client.login (/home/container/node_modules/discord.js/src/client/Client.js:229:21)
    at startBot (/home/container/server/discord-bot.ts:529:10)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async <anonymous> (/home/container/server/bot-only.ts:12:5) {
  code: 'TokenInvalid'
}
Node.js v22.21.1
Bot crashed: Command failed: npx tsx server/bot-only.ts
container@pterodactyl~ Server marked as offline...
[Bot-Hosting Daemon]: ---------- Detected server process in a crashed state! ----------
[Bot-Hosting Daemon]: Exit code: 1
[Bot-Hosting Daemon]: Out of memory: false
[Bot-Hosting Daemon]: Aborting automatic restart, last crash occurred less than 600 seconds ago.
